_landing_template: &landing_dataset
  type: kedro_datasets.spark.SparkDataset
  credentials: azure_blob_auth
  file_format: json
  load_args: &default_load_args
    inferSchema: true
    multiLine: true

landing_routes@spark:
  <<: *landing_dataset
  filepath: "${globals:datalake.landing}routes/{year}/{month}/{day}/routes_{last_ts}.json"
  load_args:
    <<: *default_load_args

landing_route_patterns@spark:
  <<: *landing_dataset
  filepath: "${globals:datalake.landing}route_patterns/{year}/{month}/{day}/route_patterns_{last_ts}.json"
  load_args:
    <<: *default_load_args

landing_stops@spark:
  <<: *landing_dataset
  filepath: "${globals:datalake.landing}stops/{year}/{month}/{day}/stops_{last_ts}.json"
  load_args:
    <<: *default_load_args

landing_trips@spark:
  <<: *landing_dataset
  filepath: "${globals:datalake.landing}trips/{year}/{month}/{day}/trips_*_{last_ts}.json"
  load_args:
    <<: *default_load_args

landing_schedules@spark:
  <<: *landing_dataset
  filepath: "${globals:datalake.landing}schedules/{year}/{month}/{day}/schedules_*_{last_ts}.json"
  load_args:
    <<: *default_load_args
