# TEMPLATES
_gold_spark_dataset: &spark_dataset
  type: kedro_datasets.spark.SparkDataset
  file_format: delta
  credentials: azure_blob_auth
  save_args: &default_save_args
    mode: overwrite
    mergeSchema: true
  metadata:
    kedro-viz:
      layer: gold

_gold_delta_dataset: &delta_dataset
  type: kedro_datasets.spark.DeltaTableDataset
  metadata:
    kedro-viz:
      layer: gold

# DATASETS
gold_trips_metrics@spark:
  <<: *spark_dataset
  filepath: "${globals:datalake.gold}trips_metrics"
  save_args:
    <<: *default_save_args

gold_trips_metrics@delta:
  <<: *delta_dataset
  filepath: "${globals:datalake.gold}trips_metrics"

gold_trips_metrics_true:
  type: MemoryDataset
  data: true
  metadata:
    kedro-viz:
      layer: silver